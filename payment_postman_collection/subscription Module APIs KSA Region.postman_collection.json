{
	"info": {
		"_postman_id": "9e96ef33-c024-49e2-841a-78b5bc078ea9",
		"name": "subscription Module APIs KSA Region",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "27873785"
	},
	"item": [
		{
			"name": "Login (Username, Password) Copy 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							"var response = JSON.parse(responseBody);",
							"",
							"// Set vars",
							"pm.environment.set(\"jwt_token\", response.token);",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n   \"api_key\": \"{{API_key}}\" // You'll find your API key on the settings page on Accept dashboard. \n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/auth/tokens",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"auth",
						"tokens"
					]
				}
			},
			"response": []
		},
		{
			"name": "create subscription plan",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2TmpBM05USXpMQ0p3YUdGemFDSTZJbUZsWlRCbU1EVmtaakl4WXpZeFpEQXhaalprTUdFMVlqTmtNelExTVRZM1ltTTVPR1EzWTJOaE9HRTBaREl3TURSbVlqQTRZVFl3TUdaa00ySXpNREVpTENKbGVIQWlPakUzTWpjeU5qTTVNalY5Li01VzFSdklGbENMSGFKSXBmaktFdXhBcVpaRmluSWVhVlpqNmY3YnNsUllLMG5vdDgwcWtxdV8zZFFsRWRPWVoxZUlMUEN0NGlsUk1OVzBLSWVQRFB3",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\n    \"frequency\": {{Subs_frequency}},    // Set the deduction frequency using one of the numeric values: 7, 15, 30, 90, 180, or 365. \n\n    \"name\": \"{{Subs_plan_name}}\", // Plan's name.\n    \n    \"reminder_days\": null,  //Set the number of days in advance you’d like to notify the customer for the renewal payment.\n    \n    \"retrial_days\": null,   //Specify the days for retrying the subscription payment after a failed attempt.\n    \n    \"plan_type\": \"rent\",\n    \n    \"number_of_deductions\": null, // The number of deductions applied to each subscription will be linked to this plan.\n    \n    \"amount_cents\": {{Amount_cents}}, // The amount of the renewal payment.\n    \n    \"use_transaction_amount\": true, // If enabled, the initial payment for creating the subscription will count as one of the deductions, and renewal payments will match the amount of that first transaction. If not, the first payment will only be for saving the end user's card, while the renewal payment will be based on the value of the \"amount_cents\" key.\n    \n    \"is_active\": true,  // Indicates whether the plan will be created will be active or paused. The default value is true.\n    \n    \"integration\": {{Moto_Integration_ID}} //Your Moto integartion ID for the renewal payments.   \n}\n\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscription-plans",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscription-plans"
					]
				}
			},
			"response": [
				{
					"name": "create subscription plan",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 1,\n    \"frequency\": 7,\n    \"name\": \"plan\",\n    \"reminder_days\": null,\n    \"retrial_days\": null,\n    \"plan_type\": \"rent\",\n    \"number_of_deductions\": null,\n    \"amount_cents\": 3000,\n    \"use_transaction_amount\": false,\n    \"is_active\": true,\n    \"integration\": 1,\n    \"fee\": null\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}api/acceptance/subscription-plans",
							"host": [
								"{{base_url}}api"
							],
							"path": [
								"acceptance",
								"subscription-plans"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Mon, 25 Dec 2023 12:52:14 GMT"
						},
						{
							"key": "Server",
							"value": "WSGIServer/0.2 CPython/3.9.5"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Allow",
							"value": "GET, POST, HEAD, OPTIONS"
						},
						{
							"key": "Vary",
							"value": "Accept-Language, Cookie, Origin"
						},
						{
							"key": "Content-Language",
							"value": "en"
						},
						{
							"key": "X-Frame-Options",
							"value": "ALLOWALL"
						},
						{
							"key": "Content-Length",
							"value": "315"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": 2,\n    \"frequency\": 7,\n    \"created_at\": \"2023-12-25T14:52:14.793702+02:00\",\n    \"updated_at\": \"2023-12-25T14:52:14.793731+02:00\",\n    \"name\": \"plan\",\n    \"reminder_days\": null,\n    \"retrial_days\": null,\n    \"plan_type\": \"rent\",\n    \"number_of_deductions\": null,\n    \"amount_cents\": 3000,\n    \"use_transaction_amount\": false,\n    \"is_active\": true,\n    \"integration\": 1,\n    \"fee\": null\n}"
				}
			]
		},
		{
			"name": "suspend subscription plan",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2TWpjek5Ua3NJbkJvWVhOb0lqb2lORFUwT0RFNFlqRTRaVE13TldVNVpUVTVaVGcyWldGa1lqbG1ZMkV6TjJVMVpEZGlORFpoTTJObU5HRXhabUkzT0RGbU56Um1NMlptWW1GbU1USmxZaUlzSW1WNGNDSTZNVGN3TlRFME5UQXhNMzAudEllX1I1SXg3OG40Tlh6RUxQaHdYOXlEVEsyeE1KNEdTSXBSUnBRcWdUZUxla1F3SUxmNk1fMTNiTzhpSElkMGZaakZKTFNGNjNyMmt0Z25DMmo2Nmc=",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscription-plans/{{subscription-plan id}}/suspend",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscription-plans",
						"{{subscription-plan id}}",
						"suspend"
					]
				}
			},
			"response": [
				{
					"name": "suspend subscription plan",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}api/acceptance/subscription-plans/1/suspend",
							"host": [
								"{{base_url}}api"
							],
							"path": [
								"acceptance",
								"subscription-plans",
								"1",
								"suspend"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Mon, 25 Dec 2023 12:56:30 GMT"
						},
						{
							"key": "Server",
							"value": "WSGIServer/0.2 CPython/3.9.5"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Allow",
							"value": "POST, OPTIONS"
						},
						{
							"key": "Vary",
							"value": "Accept-Language, Cookie, Origin"
						},
						{
							"key": "Content-Language",
							"value": "en"
						},
						{
							"key": "X-Frame-Options",
							"value": "ALLOWALL"
						},
						{
							"key": "Content-Length",
							"value": "315"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": 1,\n    \"frequency\": 30,\n    \"created_at\": \"2023-12-25T14:51:40.360852+02:00\",\n    \"updated_at\": \"2023-12-25T14:55:05.055330+02:00\",\n    \"name\": \"plan\",\n    \"reminder_days\": null,\n    \"retrial_days\": null,\n    \"plan_type\": \"rent\",\n    \"number_of_deductions\": 2,\n    \"amount_cents\": 35000,\n    \"use_transaction_amount\": false,\n    \"is_active\": false,\n    \"integration\": 1,\n    \"fee\": null\n}"
				}
			]
		},
		{
			"name": "resume subscription plan",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2TWpjek5Ua3NJbkJvWVhOb0lqb2lORFUwT0RFNFlqRTRaVE13TldVNVpUVTVaVGcyWldGa1lqbG1ZMkV6TjJVMVpEZGlORFpoTTJObU5HRXhabUkzT0RGbU56Um1NMlptWW1GbU1USmxZaUlzSW1WNGNDSTZNVGN3TlRFME5UQXhNMzAudEllX1I1SXg3OG40Tlh6RUxQaHdYOXlEVEsyeE1KNEdTSXBSUnBRcWdUZUxla1F3SUxmNk1fMTNiTzhpSElkMGZaakZKTFNGNjNyMmt0Z25DMmo2Nmc=",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscription-plans/{{subscription-plan id}}/resume",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscription-plans",
						"{{subscription-plan id}}",
						"resume"
					]
				}
			},
			"response": [
				{
					"name": "resume subscription plan",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 1,\n    \"frequency\": 7,\n    \"name\": \"plan\",\n    \"reminder_days\": null,\n    \"retrial_days\": null,\n    \"plan_type\": \"rent\",\n    \"number_of_deductions\": null,\n    \"amount_cents\": 3000,\n    \"use_transaction_amount\": false,\n    \"is_active\": true,\n    \"integration\": 1,\n    \"fee\": null\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}api/acceptance/subscription-plans/1/resume",
							"host": [
								"{{base_url}}api"
							],
							"path": [
								"acceptance",
								"subscription-plans",
								"1",
								"resume"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Date",
							"value": "Mon, 25 Dec 2023 12:56:37 GMT"
						},
						{
							"key": "Server",
							"value": "WSGIServer/0.2 CPython/3.9.5"
						},
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Allow",
							"value": "POST, OPTIONS"
						},
						{
							"key": "Vary",
							"value": "Accept-Language, Cookie, Origin"
						},
						{
							"key": "Content-Language",
							"value": "en"
						},
						{
							"key": "X-Frame-Options",
							"value": "ALLOWALL"
						},
						{
							"key": "Content-Length",
							"value": "314"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": 1,\n    \"frequency\": 30,\n    \"created_at\": \"2023-12-25T14:51:40.360852+02:00\",\n    \"updated_at\": \"2023-12-25T14:55:05.055330+02:00\",\n    \"name\": \"plan\",\n    \"reminder_days\": null,\n    \"retrial_days\": null,\n    \"plan_type\": \"rent\",\n    \"number_of_deductions\": 2,\n    \"amount_cents\": 35000,\n    \"use_transaction_amount\": false,\n    \"is_active\": true,\n    \"integration\": 1,\n    \"fee\": null\n}"
				}
			]
		},
		{
			"name": "To create subscriptions",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Token egy_sk_test_4e5bacb72e4141c3accfc3fe01b4b8cfc02b90620cf4975f9e4be8d9dd8e1605",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"amount\": {{Amount_cents}}, // amount_cents must be equal to the sum of the items amounts\n    \"currency\": \"SAR\",\n    \"payment_methods\":  [{{3ds_integration}}],   // Your Online 3DS Integration ID\n    \"subscription_plan_id\":{{subscription_plan_id}}, // Pass the subscription plan ID you created using the create subscription plan API.\n    \"subscription_start_date\": \"2024-02-20\",  //If you ignore this parameter, the subscription will start immediately. If you specify a start date, it will begin from that date.\n    \"items\": [\n        {\n            \"name\": \"Item name\",\n            \"amount\": {{Amount_cents}},\n            \"description\": \"Item description\",\n            \"quantity\": 1\n        }\n    ],\n    \"billing_data\": {\n        \"apartment\": \"dumy\",\n        \"first_name\": \"{{first_name}}\", // First Name, Last Name, Phone number, & Email are mandatory fields within sending the intention request\n        \"last_name\": \"{{last_name}}\",\n        \"street\": \"dumy\",\n        \"building\": \"dumy\",\n        \"phone_number\": \"{{phone_number}}\",\n        \"city\": \"dumy\",\n        \"country\": \"dumy\",\n        \"email\": \"{{email}}\",\n        \"floor\": \"dumy\",\n        \"state\": \"dumy\"\n    },\n\n\n    \"special_reference\": \"{{Merchant_OrderID}}\" // Refer to a unique or special identifier or reference associated with a transaction or order. It can be used for tracking or categorizing specific types of transactions and it returns within the transaction callback under merchant_order_id\n\n    // \"subscriptionv2_id\":null //Uses when you need to save a new card for an existing subscription, create a new transaction and pass the existed subscription ID to this parameter to list the new card with the subscription.\n\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/v1/intention/",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"v1",
						"intention",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Pause - subscription",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2T1RRNE9EYzJMQ0p3YUdGemFDSTZJall3TWpSaVlXWmtZelppT1dWbU1HSXlNek5tWlRCaVpHSmtZak16TVdFMVlXTmpOamxqTURRek1HRXlabVF6WWprNFkyWTBaREV6TkRRelkySmtOemdpTENKbGVIQWlPakUzTURVeU16QTJPVGw5LkZCTHRxdEFiZ0RsZUE5THpzVVYxUkNRZ29kRzVLZ1Y0WjdadmZUak1Vc0tRcC1ScWJOU1k2SDJ0VEs5Ym1LVXlZelh5NUJXV0dmcEcwYVVYRkVWUmlB",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscriptions/{{subscription_id}}/suspend",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscriptions",
						"{{subscription_id}}",
						"suspend"
					]
				}
			},
			"response": []
		},
		{
			"name": "resume - subscription",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2T1RRNE9EYzJMQ0p3YUdGemFDSTZJall3TWpSaVlXWmtZelppT1dWbU1HSXlNek5tWlRCaVpHSmtZak16TVdFMVlXTmpOamxqTURRek1HRXlabVF6WWprNFkyWTBaREV6TkRRelkySmtOemdpTENKbGVIQWlPakUzTURVeU16QTJPVGw5LkZCTHRxdEFiZ0RsZUE5THpzVVYxUkNRZ29kRzVLZ1Y0WjdadmZUak1Vc0tRcC1ScWJOU1k2SDJ0VEs5Ym1LVXlZelh5NUJXV0dmcEcwYVVYRkVWUmlB",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscriptions/{{Subscription_id}}/resume",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscriptions",
						"{{Subscription_id}}",
						"resume"
					]
				}
			},
			"response": []
		},
		{
			"name": "cancel - subscription",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2T1RRNE9EYzJMQ0p3YUdGemFDSTZJall3TWpSaVlXWmtZelppT1dWbU1HSXlNek5tWlRCaVpHSmtZak16TVdFMVlXTmpOamxqTURRek1HRXlabVF6WWprNFkyWTBaREV6TkRRelkySmtOemdpTENKbGVIQWlPakUzTURVeU16QTJPVGw5LkZCTHRxdEFiZ0RsZUE5THpzVVYxUkNRZ29kRzVLZ1Y0WjdadmZUak1Vc0tRcC1ScWJOU1k2SDJ0VEs5Ym1LVXlZelh5NUJXV0dmcEcwYVVYRkVWUmlB",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscriptions/{{Subscription_id}}/cancel",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscriptions",
						"{{Subscription_id}}",
						"cancel"
					]
				}
			},
			"response": []
		},
		{
			"name": "update subscription",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2TWpjek5Ua3NJbkJvWVhOb0lqb2lORFUwT0RFNFlqRTRaVE13TldVNVpUVTVaVGcyWldGa1lqbG1ZMkV6TjJVMVpEZGlORFpoTTJObU5HRXhabUkzT0RGbU56Um1NMlptWW1GbU1USmxZaUlzSW1WNGNDSTZNVGN3TlRZMU5URTRNWDAuUEcxU0NETUtHVU11YXJ2bnhKY210djU1RFRkendKaHI1NWM5U1RUanRGenhsaGgyTmVNdGViWWNkaE02YlFPQ2xNa1VuV1VYNW5NX3lqMGFuakJ5Unc=",
							"type": "string"
						}
					]
				},
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"amount_cents\": {{Amount_cents}}, // The amount of the subscription.\n    \"ends_at\": \"2024-01-25\" // The end date of subscription. \n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscriptions/{{Subscription_id}}",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscriptions",
						"{{Subscription_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "list subscription cards",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2TmpBM05USXpMQ0p3YUdGemFDSTZJbUZsWlRCbU1EVmtaakl4WXpZeFpEQXhaalprTUdFMVlqTmtNelExTVRZM1ltTTVPR1EzWTJOaE9HRTBaREl3TURSbVlqQTRZVFl3TUdaa00ySXpNREVpTENKbGVIQWlPakUzTVRZME56VXpOVFY5LjFVNmt3VGRiVUhlYkV0Nlp4aEpLRlVwZjFYWEVjUkxpd2x6SXo4cmY1YUJEaGY1YTJOM29McGlDVlVBS2M1dVRsZXdoejNLNW15bk1PYUlRNVFmZmNn",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscriptions/{{subscription_id}}/card-tokens",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscriptions",
						"{{subscription_id}}",
						"card-tokens"
					]
				}
			},
			"response": []
		},
		{
			"name": "change subscription primary card",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2TmpBM05USXpMQ0p3YUdGemFDSTZJbUZsWlRCbU1EVmtaakl4WXpZeFpEQXhaalprTUdFMVlqTmtNelExTVRZM1ltTTVPR1EzWTJOaE9HRTBaREl3TURSbVlqQTRZVFl3TUdaa00ySXpNREVpTENKbGVIQWlPakUzTWpBeE1UQTVOamg5LmN4NHpOd25wUF9RN1lhYlcwaGNaTkZ2QmM5V0dHeGV3OTdNcm8xUkRLNkU1ei1CTXdkVS1ndi13NXJaNEdCRV80dG9YRVdDeDFRaDdhN3Y1WmxyV3Jn",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"card\": {{Card_ID}} // Pass the Card ID you obtained using the list subscription cards API.\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscriptions/{{subscription_id}}/change-primary-card",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscriptions",
						"{{subscription_id}}",
						"change-primary-card"
					]
				}
			},
			"response": []
		},
		{
			"name": "delete subscription card",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2T1RRNE9EYzJMQ0p3YUdGemFDSTZJall3TWpSaVlXWmtZelppT1dWbU1HSXlNek5tWlRCaVpHSmtZak16TVdFMVlXTmpOamxqTURRek1HRXlabVF6WWprNFkyWTBaREV6TkRRelkySmtOemdpTENKbGVIQWlPakUzTURVek5EQXlNVE45LmtHWUE1MGN1SjI0bTNOZGFsQi1veDEtR1FvX2tlMTMxMmpEWGxfdkVhYjJlUVFsalVXbjAyRXNTMWt6WU1NbTM2RVp1dVBuX3hiSGxoTzE1alZzR2h3",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"card\": {{Card_ID}} // Pass the Card ID you obtained using the list subscription cards API.\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscriptions/{{Subscription_id}}/delete-card",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscriptions",
						"{{Subscription_id}}",
						"delete-card"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Subscription Details",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2TWpjek5Ua3NJbkJvWVhOb0lqb2lORFUwT0RFNFlqRTRaVE13TldVNVpUVTVaVGcyWldGa1lqbG1ZMkV6TjJVMVpEZGlORFpoTTJObU5HRXhabUkzT0RGbU56Um1NMlptWW1GbU1USmxZaUlzSW1WNGNDSTZNVGN3TlRNek9URTRPSDAuZ1FBUmllUk8tR0xzOEo3VlcybXhwdW5mZUNtaENxUl9HTnFkTU9hNHR4VkZKSXlDTjFKVFpHVUZicGdINUhqbWQ1REx1OTRGX2N2b016QTFkMkgyT1E=",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscriptions/{{Subscription_id}}",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscriptions",
						"{{Subscription_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Last-transaction API",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2T1RRNE9EYzJMQ0p3YUdGemFDSTZJall3TWpSaVlXWmtZelppT1dWbU1HSXlNek5tWlRCaVpHSmtZak16TVdFMVlXTmpOamxqTURRek1HRXlabVF6WWprNFkyWTBaREV6TkRRelkySmtOemdpTENKbGVIQWlPakUzTURVek16Z3dPRFI5LnhCOUFtWC1BX3pQTXVBR0ZxYXc4RjhNNWN1cDFmNUJncUFSLVVsNWtlM09mbVUyR0VXQ3JGMjJBNGFaYnVFaXhKLUVieUR5VUN5YzZKX2s1bTJFVmtB",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscriptions/{{Subscription_Id}}/last-transaction",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscriptions",
						"{{Subscription_Id}}",
						"last-transaction"
					]
				}
			},
			"response": []
		},
		{
			"name": "list subscription transactions",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2T1RRNE9EYzJMQ0p3YUdGemFDSTZJall3TWpSaVlXWmtZelppT1dWbU1HSXlNek5tWlRCaVpHSmtZak16TVdFMVlXTmpOamxqTURRek1HRXlabVF6WWprNFkyWTBaREV6TkRRelkySmtOemdpTENKbGVIQWlPakUzTURVek16Z3dPRFI5LnhCOUFtWC1BX3pQTXVBR0ZxYXc4RjhNNWN1cDFmNUJncUFSLVVsNWtlM09mbVUyR0VXQ3JGMjJBNGFaYnVFaXhKLUVieUR5VUN5YzZKX2s1bTJFVmtB",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscriptions/{{Subscription_id}}/transactions",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscriptions",
						"{{Subscription_id}}",
						"transactions"
					]
				}
			},
			"response": []
		},
		{
			"name": "list subscription plans",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2T1RRNE9EYzJMQ0p3YUdGemFDSTZJall3TWpSaVlXWmtZelppT1dWbU1HSXlNek5tWlRCaVpHSmtZak16TVdFMVlXTmpOamxqTURRek1HRXlabVF6WWprNFkyWTBaREV6TkRRelkySmtOemdpTENKbGVIQWlPakUzTURVek5ERXdNRGw5LkVxTU9sc0wtZjR4QThoajhqUEtGTWJKZjNISW1MamlaM3RhaUFVbUI3R1dIYzFJSDdMOFVDWDljWlpMazh1UnVJbTR6bGpBdVk5SzlTNXZ0cnFQN2ZR",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscription-plans",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscription-plans"
					]
				}
			},
			"response": []
		},
		{
			"name": "update subscription plan",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Parse the response",
							"",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SmpiR0Z6Y3lJNklrMWxjbU5vWVc1MElpd2ljSEp2Wm1sc1pWOXdheUk2TmpBM05USXpMQ0p3YUdGemFDSTZJbUZsWlRCbU1EVmtaakl4WXpZeFpEQXhaalprTUdFMVlqTmtNelExTVRZM1ltTTVPR1EzWTJOaE9HRTBaREl3TURSbVlqQTRZVFl3TUdaa00ySXpNREVpTENKbGVIQWlPakUzTVRZME56VXpOVFY5LjFVNmt3VGRiVUhlYkV0Nlp4aEpLRlVwZjFYWEVjUkxpd2x6SXo4cmY1YUJEaGY1YTJOM29McGlDVlVBS2M1dVRsZXdoejNLNW15bk1PYUlRNVFmZmNn",
							"type": "string"
						}
					]
				},
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"reminder_days\": null,  //Set the number of days in advance you’d like to notify the customer for the renewal payment.\n    \n    \"retrial_days\": null   //Specify the days for retrying the subscription payment after a failed attempt.\n    \n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://ksa.paymob.com/api/acceptance/subscription-plans/{{Subscription_Plan_Id}}",
					"protocol": "https",
					"host": [
						"ksa",
						"paymob",
						"com"
					],
					"path": [
						"api",
						"acceptance",
						"subscription-plans",
						"{{Subscription_Plan_Id}}"
					]
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://accept.paymob.com/"
		}
	]
}